<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">	
	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
		<meta http-equiv="content-language" content="sl"></meta>
		<meta name="keywords" content="izračun,s.p.,zasebniki,samostojni podjetniki,kalkulator,neto,bruto,izkupiček,izplen,prispevki,stroški,dohodnina"></meta>
		<meta name="description" content="Kalkulator za izračun končnega izkupička za zasebnike, ki se odločajo med rednim delom in delom kot samostojni podjetnik, omogoča pa enostaven izračun primerljivega neto zneska na podlagi urne postavke in ostalih parametrov."></meta>
		<meta name="author" content="David Sedlar"></meta>
		
		<title>Kalkulator za izračun končnega izkupička za zasebnike (S.P.-je)</title>
		
		<link rel="shortcut icon" href="${facesContext.externalContext.requestContextPath}/favicon.ico" />
		<link type="text/css" rel="stylesheet" href="${facesContext.externalContext.requestContextPath}/css/main.css" />
		<link type="text/css" rel="stylesheet" href="${facesContext.externalContext.requestContextPath}/css/jquery.qtip.min.css" />
		
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script type="text/javascript" src="${facesContext.externalContext.requestContextPath}/js/jquery.qtip.min.js"></script>
		<script type="text/javascript" src="${facesContext.externalContext.requestContextPath}/js/jshashtable-2.1.js"></script>
		<script type="text/javascript" src="${facesContext.externalContext.requestContextPath}/js/jquery.numberformatter-1.2.3.min.js"></script>
		
		<script type="text/javascript">   
		    ajaxLoader = function(data) {
		        var ajaxstatus = data.status;
		        var ajaxloader = document.getElementById("ajaxloader");

		        switch (ajaxstatus) {
		            case "begin": // This is called right before ajax request is been sent.
		                $('#ajaxloader').show();
		                break;

		            case "complete": // This is called right after ajax response is received.
		            	$('#ajaxloader').hide();
		                break;
		        }
		    };
		    
		    var shared = {
    		   position: {
    		      my: 'top center', 
    		      at: 'bottom center'
    		   },
    		   style: {
    		      tip: true,
    		      classes: 'ui-tooltip-rounded ui-tooltip-shadow'
    		   }
		    };
		    		
		    $(document).ready(function() {
		    	$('#type_select td:nth-child(1)').qtip($.extend({}, shared, { 
		    		content: {
		    			text: 'Izračun po urah na dan (npr. 8 ur/dan)'
		    		}
		    	}));
		    	$('#type_select td:nth-child(2)').qtip($.extend({}, shared, { 
		    		content: {
		    			text: 'Izračun po urah na mesec (npr. 168 ur/mesec)'
		    		}
		    	}));
		    	$('#type_select td:nth-child(3)').qtip($.extend({}, shared, { 
		    		content: {
		    			text: 'Izračun glede na pavšalni mesečni znesek (npr. 3000 €/mesec). ' + 
		    					'Predvideva se, da so prazniki, dopust ter bolniška že všteti.'
		    		}
		    	}));
		    });
		    		
		    $(document).ready(function() {
		    	$("input[type='text']").blur(function(){
		    		$(this).parseNumber({format:"#,##0.00", locale:"de"});
		    		$(this).formatNumber({format:"#,##0.00", locale:"de"});
		    	});
		    	$("[id$='ureDnevno']").blur(function(){
		    		var number = $(this).parseNumber({format:"#,##0.00", locale:"de"});
		    		$(this).formatNumber({format:"#,##0.00", locale:"de"});
		    		
		    		$("[id$='ureMesecno']").val(number * 21);
		    		$("[id$='ureMesecno']").formatNumber({format:"#,##0.00", locale:"de"});
		    	});
		    	$("[id$='ureMesecno']").blur(function(){
		    		var number = $(this).parseNumber({format:"#,##0.00", locale:"de"});
		    		$(this).formatNumber({format:"#,##0.00", locale:"de"});
		    		
		    		$("[id$='ureDnevno']").val(number / 21);
		    		$("[id$='ureDnevno']").formatNumber({format:"#,##0.00", locale:"de"});
		    	});
		    });
		    
		 </script>
</h:head>

	<h:body>
		<div class="header">
			<h1>Kalkulator za izračun končnega izkupička za zasebnike (S.P.-je)</h1>
		</div>
		
		<div class="content">
			<div class="info">
				Podatki so informativne narave in so izračunani na podlagi normiranih stroškov v višini 25%. Ta oblika obračunavanja
				stroškov je primerna za osebe, katerih prihodki iz dejavnosti v zadnjih zaporednih 12 mesecih ne presegajo 42.000 eurov.
				<br />
				<a href="http://www.durs.gov.si/si/storitve/brosure_in_zlozenke_durs/opomnik_za_davcne_zavezance_ki_opravljajo_dejavnost_zacetnike/#c19411" target="_blank" title="Normirani stroški">Več informacij...</a>
			</div>
			
			<h:messages styleClass="errors" />
			
			<h:form>
				<div class="section centermargin">
					<h:commandButton value="Izračunaj" action="pretty:izracun" />
					<h:button value="Ponastavi" outcome="pretty:home" />
				</div>	
				
				<div class="section" id="type_select">
					<img id="ajaxloader" src="${facesContext.externalContext.requestContextPath}/img/ajaxloader.gif"/>
					<h:selectOneRadio value="#{izracunBean.tipVnosa}" styleClass="radio" required="true" label="Tip izračuna" immediate="true" valueChangeListener="#{izracunBean.tipVnosaValueChange}">
					   	<f:selectItem itemValue="ure_dnevno" itemLabel="Po urah na dan"/>
					   	<f:selectItem itemValue="ure_mesecno" itemLabel="Po urah na mesec"/>
					   	<f:selectItem itemValue="pavsal_mesecno" itemLabel="Mesečni pavšal"/>
					   	<f:ajax event="click" execute="@form" render="basic_info workdays" onevent="ajaxLoader" />
					</h:selectOneRadio>
				</div>

				<h:panelGroup class="section" id="basic_info" layout="block">
					<h3>Osnovni podatki:</h3>
					<table class="details">
						<h:panelGroup rendered="#{izracunBean.tipVnosa != 'pavsal_mesecno'}">
							<tr class="customizable">
								<td>Urna postavka (brez DDV)</td>
								<td>
									<h:inputText value="#{izracunBean.urnaPostavka}" required="true" label="Urna postavka" >
										<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
									</h:inputText>
								</td>
								<td>€</td>
							</tr>
						</h:panelGroup>
						<h:panelGroup rendered="#{izracunBean.tipVnosa == 'ure_dnevno'}">
							<tr class="customizable" id="tester">
								<td>Število delovnih ur (na dan)</td>
								<td>
									<h:inputText value="#{izracunBean.urDnevno}" required="true" label="Delovniih ur (dnevno)" id="ureDnevno">
										<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
									</h:inputText>
								</td>
								<td>ur</td>
							</tr>
						</h:panelGroup>
						<h:panelGroup rendered="#{izracunBean.tipVnosa == 'ure_mesecno'}">
							<tr class="customizable">
								<td>Število delovnih ur (na mesec)</td>
								<td>
									<h:inputText value="#{izracunBean.urMesecno}" required="true" label="Delovnih ur (mesečno)" id="ureMesecno">
										<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
									</h:inputText>
								</td>
								<td>ur</td>
							</tr>
						</h:panelGroup>
						<tr class="total">
							<td>Mesečni znesek skupno</td>
							<td>
								<h:outputText value="#{izracunBean.mesecniZnesekSkupni}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
					</table>
				</h:panelGroup>
				
				<h:panelGroup class="section" id="workdays" layout="block">
					<h3>Delovni dnevi:</h3>
					<table class="details">
						<tr class="customizable">
							<td>Število vseh delavnikov (letno)</td>
							<td>								
								<h:inputText value="#{izracunBean.steviloDni}" required="true" label="Število vseh delavnikov (letno)">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>dni</td>
						</tr>
						<tr class="customizable">
							<td>Prazniki</td>
							<td>								
								<h:inputText value="#{izracunBean.steviloPrazniki}" required="true" label="Prazniki">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>dni</td>
						</tr>
						<tr class="customizable">
							<td>Dopust</td>
							<td>								
								<h:inputText value="#{izracunBean.steviloDopust}" required="true" label="Dopust">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>dni</td>
						</tr>
						<tr class="customizable">
							<td>Bolniška</td>
							<td>								
								<h:inputText value="#{izracunBean.steviloBolniska}" required="true" label="Bolniška">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>dni</td>
						</tr>
						<tr class="total">
							<td>Skupaj delavnikov (letno)</td>
							<td>
								<h:outputText value="#{izracunBean.steviloDelavnikovSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>dni</td>
						</tr>
						<tr class="total">
							<td>Letni znesek skupno</td>
							<td>
								<h:outputText value="#{izracunBean.letniZnesekSkupni}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Letni znesek skupno (odšteti normirani stroški 25%)</td>
							<td>
								<h:outputText value="#{izracunBean.letniZnesekSkupniNormiran}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
					</table>
				</h:panelGroup>
				
				<div class="section" id="social_contribution">
					<h3>Prispevki (<a href="http://www.durs.gov.si/si/prispevki_za_socialno_varnost/prispevki_za_socialno_varnost_samozaposlenih_pojasnila/placevanje_prispevkov/" target="_blank" title="Lestvica">Več informacij...</a>):</h3>
					<table class="details">
						<tr class="customizable">
							<td>Zaslužek prejšnje leto (dohodek)</td>
							<td>								
								<h:inputText value="#{izracunBean.zasluzekPrispevki}" required="true" label="Zaslužek prejšnje leto (dohodek)">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Pokojninsko zavarovanje  (15,50% + 8,85%)</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiPokojninsko}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
						<tr>
							<td>Zdravstveno zavarovanje (6,36% + 6,56%) + Poškodbe pri delu (0,53%)</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiZdravstveno}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
						<tr>
							<td>Prispevki za zaposlovanje (0,14% + 0,06%)</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiZaposlovanje}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
						<tr>
							<td>Starševsko varstvo (0,10% + 0,10%)</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiStarsevsko}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
						<tr class="total">
							<td>Skupaj prispevki (mesečno)</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>			
					</table>
				</div>	
					
				<div class="section" id="material_costs">
					<h3>Materialni stroški:</h3>
					<table class="details">
						<tr class="customizable">
							<td>Prevoz (privzeto cena vozovnice)</td>
							<td>								
								<h:inputText value="#{izracunBean.prevozZnesek}" required="true" label="Prevoz (privzeto cena vozovnice)">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="customizable">
							<td>Malica znesek (dnevno)</td>
							<td>								
								<h:inputText value="#{izracunBean.malicaDnevno}" required="true" label="Malica znesek (dnevno)">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>€</td>
						</tr>	
						<tr>
							<td>Malica znesek (približen znesek na podlagi mesečnih ur)</td>
							<td>
								<h:outputText value="#{izracunBean.malicaMesecno}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Skupaj materialni stroški (mesečno)</td>
							<td>
								<h:outputText value="#{izracunBean.materialniSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
					</table>
				</div>	
				
				<div class="section" id="other_costs">
					<h3>Ostali stroški:</h3>
					<table class="details">
						<tr class="customizable">
							<td>Stroški računovodstva (mesečno)</td>
							<td>								
								<h:inputText value="#{izracunBean.stroskiRacunovodstvaMesecno}" required="true" label="Stroški računovodstva (mesečno)">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="customizable">
							<td>Ostali stroški skupaj (letno, za boljšo primerjavo z rednim delom se lahko vpiše tudi npr. znesek regresa, božičnice, ...)</td>
							<td>								
								<h:inputText value="#{izracunBean.stroskiOstaliLetno}" required="true" label="Ostali stroški skupaj">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:inputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Stroški računovodstva (letno)</td>
							<td>
								<h:outputText value="#{izracunBean.stroskiRacunovodstvaLetno}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Skupaj ostali stroški (letno)</td>
							<td>
								<h:outputText value="#{izracunBean.stroskiSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
					</table>
				</div>		
				
				<div class="section" id="tax_contribution">
					<h3>Dohodnina (<a href="http://www.durs.gov.si/si/davki_predpisi_in_pojasnila/dohodnina_pojasnila/stopnje_dohodnine_za_leto_2011/lestvica_za_odmero_dohodnine_in_olajsave_za_leto_2011/" target="_blank" title="Lestvica">Več informacij...</a>):</h3>
					<table class="details">
						<tr class="total">
							<td>Dohoninsko izhodišče (za 12 mesecev)</td>
							<td>
								<h:outputText value="#{izracunBean.dohodninaIzhodisce}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Normirani stroški (25%)</td>
							<td>
								<h:outputText value="#{izracunBean.dohodninaNormiraniStroski}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Splošna olajšava</td>
							<td>
								<h:outputText value="#{izracunBean.dohodninaSplosnaOlajsava}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Prispevki</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Dohoninska osnova (odšteti stroški, olajšava in prispevki)</td>
							<td>
								<h:outputText value="#{izracunBean.dohodninaOsnova}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2"/>
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Skupaj dohodnina (mesečno)</td>
							<td>
								<h:outputText value="#{izracunBean.dohodninaSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>	
					</table>
				</div>	
				
				<div class="section" id="calculation">
					<h3>Izračun:</h3>
					<table class="details">
						<tr>
							<td>Letni znesek skupno</td>
							<td>
								<h:outputText value="#{izracunBean.letniZnesekSkupni}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Ostali stroški</td>
							<td>
								<h:outputText value="#{izracunBean.stroskiSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Letni znesek skupno (odšteti ostali stroški)</td>
							<td>
								<h:outputText value="#{izracunBean.letniZnesekBrezStroskov}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Mesečni znesek skupno (odšteti ostali stroški, za 12 mesecev)</td>
							<td>
								<h:outputText value="#{izracunBean.mesecniZnesekBrezStroskov}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Prispevki (mesečno)</td>
							<td>
								<h:outputText value="#{izracunBean.prispevkiSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Dohodnina (mesečno)</td>
							<td>
								<h:outputText value="#{izracunBean.dohodninaSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Mesečni znesek NETO (z materialnimi stroški - malica, prevoz)</td>
							<td>
								<h:outputText value="#{izracunBean.znesekNetoMaterialni}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr>
							<td>Materialni stroški (mesečno)</td>
							<td>
								<h:outputText value="#{izracunBean.materialniSkupaj}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
						<tr class="total">
							<td>Mesečni znesek NETO (končni, brez materialnih stroškov)</td>
							<td>
								<h:outputText value="#{izracunBean.znesekNetoKoncni}">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</td>
							<td>€</td>
						</tr>
					</table>
				</div>
				
				<div class="section centermargin">
					<h:commandButton value="Izračunaj" action="pretty:izracun" immediate="true"/>
					<h:button value="Ponastavi" outcome="pretty:home" />
				</div>			
			</h:form>
			
			<div class="centermargin footer">
				<div class="copyright">© <a href="http://si.linkedin.com/in/davidsedlar" target="_blank" title="Kontakt">David Sedlar</a> | 2012 | Vse pravice pridržane</div>
				
				<a href="http://code.google.com/appengine/" target="_blank" title="Google App Engine">
					<img src="http://code.google.com/appengine/images/appengine-silver-120x30.gif"
						alt="Powered by Google App Engine" /></a> 
						
				<br /> 
				
				<a href="http://ocpsoft.org/prettyfaces/" target="_blank" title="JSF 2 | Servlet | Java EE | URLRewrite | URL Rewrite Filter | Bookmarks | OcpSoft">
					<img src="http://ocpsoft.org/wp-content/uploads/2009/10/poweredby-prettyfaces-small.png" height="15" width="94"/></a>
					
				<!-- Start of StatCounter Code for Default Guide -->
				<script type="text/javascript">
					var sc_project = 7716725;
					var sc_invisible = 0;
					var sc_security = "9954aad7";
				</script>
				<script type="text/javascript" src="http://www.statcounter.com/counter/counter_xhtml.js"></script>
				<noscript>
					<div class="statcounter">
						<a href="http://statcounter.com/tumblr/" target="_blank" class="statcounter" title="StatCounter"><img class="statcounter" src="http://c.statcounter.com/7716725/0/9954aad7/0/" alt="StatCounter" /></a>
					</div>
				</noscript>
				<!-- End of StatCounter Code for Default Guide -->
			</div>
		</div>
	</h:body>
</html>